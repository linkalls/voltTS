# VoltTS 型システムの最小実装メモ

現状の VoltTS プロトタイプに、関数戻り値に関する軽量な型チェックを追加しました。

## 対応していること
- `fn foo(): int { ... }` のような戻り値アノテーションのパース
- `main` は **`int` または `void` を明示** しないとエラー。`main(): int` や `main(): void` のように必ず型を書く
- `return 1;` は `int` 戻り値の関数でのみ許可 (他の型・`void` ではエラー)
- 未知の型名は警告を出しつつ「不明な型」として通過
- `int` を返す関数 (`main` 以外) には `return` が必須。`main` が `: int` のときも暗黙に `return 0` を許容

## 使い方
- `voltts fmt`, `voltts lint`, `voltts build` すべてで型チェックが走ります。
- `main` を型未指定のままにするとエラーになります。`int` / `void` 以外を指定した場合もエラーになります。
- 戻り値を持たない関数 (`void`) に `return 1;` を書くとエラーになります。
- `main` を `void` で宣言しても、生成される C コード上では `int main(void)` としてビルドされ、末尾に `return 0;` が補われます（C の規約に合わせるため）。

## 今後の拡張アイデア
- パラメータ型や式の型推論
- `Result`/`Option` などの標準型とエラー強調表示
- 行・列を含むリッチな診断 (miette/codespan-reporting 連携)
